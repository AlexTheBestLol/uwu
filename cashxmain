--This script reveals ALL hidden messages in the default chat
--chat "/spy" to toggle!
enabled = true
--if true will check your messages too
spyOnMyself = true
--if true will chat the logs publicly (fun, risky)
public = false
--if true will use /me to stand out
publicItalics = true
--customize private logs
privateProperties = {
	Color = Color3.fromRGB(0,255,255); 
	Font = Enum.Font.SourceSansBold;
	TextSize = 18;
}
--////////////////////////////////////////////////////////////////
local StarterGui = game:GetService("StarterGui")
local Players = game:GetService("Players")
local player = Players.LocalPlayer or Players:GetPropertyChangedSignal("LocalPlayer"):Wait() or Players.LocalPlayer
local saymsg = game:GetService("ReplicatedStorage"):WaitForChild("DefaultChatSystemChatEvents"):WaitForChild("SayMessageRequest")
local getmsg = game:GetService("ReplicatedStorage"):WaitForChild("DefaultChatSystemChatEvents"):WaitForChild("OnMessageDoneFiltering")
local instance = (_G.chatSpyInstance or 0) + 1
_G.chatSpyInstance = instance

local function onChatted(p,msg)
	if _G.chatSpyInstance == instance then
		if p==player and msg:lower():sub(1,4)=="/spy" then
			enabled = not enabled
			wait(0.3)
			privateProperties.Text = "{CashX "..(enabled and "EN" or "DIS").."ABLED}"
			StarterGui:SetCore("ChatMakeSystemMessage",privateProperties)
		elseif enabled and (spyOnMyself==true or p~=player) then
			msg = msg:gsub("[\n\r]",''):gsub("\t",' '):gsub("[ ]+",' ')
			local hidden = true
			local conn = getmsg.OnClientEvent:Connect(function(packet,channel)
				if packet.SpeakerUserId==p.UserId and packet.Message==msg:sub(#msg-#packet.Message+1) and (channel=="All" or (channel=="Team" and public==false and Players[packet.FromSpeaker].Team==player.Team)) then
					hidden = false
				end
			end)
			wait(1)
			conn:Disconnect()
			if hidden and enabled then
				if public then
					saymsg:FireServer((publicItalics and "/me " or '').."{SPY} [".. p.Name .."]: "..msg,"All")
				else
					privateProperties.Text = "{CashX} [".. p.Name .."]: "..msg
					StarterGui:SetCore("ChatMakeSystemMessage",privateProperties)
				end
			end
		end
	end
end

for _,p in ipairs(Players:GetPlayers()) do
	p.Chatted:Connect(function(msg) onChatted(p,msg) end)
end
Players.PlayerAdded:Connect(function(p)
	p.Chatted:Connect(function(msg) onChatted(p,msg) end)
end)
privateProperties.Text = "{CashX's Spy "..(enabled and "EN" or "DIS").."ABLED}"
StarterGui:SetCore("ChatMakeSystemMessage",privateProperties)
if not player.PlayerGui:FindFirstChild("Chat") then wait(3) end
local chatFrame = player.PlayerGui.Chat.Frame
chatFrame.ChatChannelParentFrame.Visible = true
chatFrame.ChatBarParentFrame.Position = chatFrame.ChatChannelParentFrame.Position+UDim2.new(UDim.new(),chatFrame.ChatChannelParentFrame.Size.Y)
-------//////////////////////////////////////////////////////////////////////////////////////////////////////

local DiscordLib = loadstring(game:HttpGet"https://raw.githubusercontent.com/dawid-scripts/UI-Libs/main/discord%20lib.txt")()

local win = DiscordLib:Window("CashX Premium")

local serv = win:Server("CashX", "")

local main = serv:Channel("Home")

local btns = serv:Channel("Buttons")

btns:Seperator()

btns:Button("Fly", function()
DiscordLib:Notification("Notification", "Best fly. (Press X to fly & unfly)", "Press to continue!")
    local flight
local plr = game.Players.LocalPlayer
IYMouse = plr:GetMouse()
IYMouse.KeyDown:connect(function(key)
    if key == "x" then
        if flight then
            flight = false
            fly()
        else
            flight = true
            NOFLY()
        end
    end
end)

for i,v in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
	if v:IsA("BasePart") and v.CanCollide == true then
		v.CanCollide = false
	end
end

FLYING = false
QEfly = true
iyflyspeed = 3
vehicleflyspeed = 3
function sFLY(vfly)
	repeat wait() until game.Players.LocalPlayer and game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild('Humanoid')
	repeat wait() until IYMouse
	
	local T = game.Players.LocalPlayer.Character.LowerTorso
	local CONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
	local lCONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
	local SPEED = 5
	
	local function FLY()
		FLYING = true
		local BG = Instance.new('BodyGyro', T)
		local BV = Instance.new('BodyVelocity', T)
		BG.P = 9e4
		BG.maxTorque = Vector3.new(9e9, 9e9, 9e9)
		BG.cframe = T.CFrame
		BV.velocity = Vector3.new(0, 0, 0)
		BV.maxForce = Vector3.new(9e9, 9e9, 9e9)
		spawn(function()
			repeat wait()
				if not vfly and game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid') then
					game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand = true
				end
				if CONTROL.L + CONTROL.R ~= 0 or CONTROL.F + CONTROL.B ~= 0 or CONTROL.Q + CONTROL.E ~= 0 then
					SPEED = 50
				elseif not (CONTROL.L + CONTROL.R ~= 0 or CONTROL.F + CONTROL.B ~= 0 or CONTROL.Q + CONTROL.E ~= 0) and SPEED ~= 0 then
					SPEED = 0
				end
				if (CONTROL.L + CONTROL.R) ~= 0 or (CONTROL.F + CONTROL.B) ~= 0 or (CONTROL.Q + CONTROL.E) ~= 0 then
					BV.velocity = ((workspace.CurrentCamera.CoordinateFrame.lookVector * (CONTROL.F + CONTROL.B)) + ((workspace.CurrentCamera.CoordinateFrame * CFrame.new(CONTROL.L + CONTROL.R, (CONTROL.F + CONTROL.B + CONTROL.Q + CONTROL.E) * 0.2, 0).p) - workspace.CurrentCamera.CoordinateFrame.p)) * SPEED
					lCONTROL = {F = CONTROL.F, B = CONTROL.B, L = CONTROL.L, R = CONTROL.R}
				elseif (CONTROL.L + CONTROL.R) == 0 and (CONTROL.F + CONTROL.B) == 0 and (CONTROL.Q + CONTROL.E) == 0 and SPEED ~= 0 then
					BV.velocity = ((workspace.CurrentCamera.CoordinateFrame.lookVector * (lCONTROL.F + lCONTROL.B)) + ((workspace.CurrentCamera.CoordinateFrame * CFrame.new(lCONTROL.L + lCONTROL.R, (lCONTROL.F + lCONTROL.B + CONTROL.Q + CONTROL.E) * 0.2, 0).p) - workspace.CurrentCamera.CoordinateFrame.p)) * SPEED
				else
					BV.velocity = Vector3.new(0, 0, 0)
				end
				BG.cframe = workspace.CurrentCamera.CoordinateFrame
			until not FLYING
			CONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
			lCONTROL = {F = 0, B = 0, L = 0, R = 0, Q = 0, E = 0}
			SPEED = 0
			BG:destroy()
			BV:destroy()
			if game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid') then
				game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand = false
			end
		end)
	end
	IYMouse.KeyDown:connect(function(KEY)
		if KEY:lower() == 'w' then
			if vfly then
				CONTROL.F = vehicleflyspeed
			else
				CONTROL.F = iyflyspeed
			end
		elseif KEY:lower() == 's' then
			if vfly then
				CONTROL.B = - vehicleflyspeed
			else
				CONTROL.B = - iyflyspeed
			end
		elseif KEY:lower() == 'a' then
			if vfly then
				CONTROL.L = - vehicleflyspeed
			else
				CONTROL.L = - iyflyspeed
			end
		elseif KEY:lower() == 'd' then 
			if vfly then
				CONTROL.R = vehicleflyspeed
			else
				CONTROL.R = iyflyspeed
			end
		elseif QEfly and KEY:lower() == 'e' then
			if vfly then
				CONTROL.Q = vehicleflyspeed*2
			else
				CONTROL.Q = iyflyspeed*2
			end
		elseif QEfly and KEY:lower() == 'q' then
			if vfly then
				CONTROL.E = -vehicleflyspeed*2
			else
				CONTROL.E = -iyflyspeed*2
			end
		end
	end)
	IYMouse.KeyUp:connect(function(KEY)
		if KEY:lower() == 'w' then
			CONTROL.F = 0
		elseif KEY:lower() == 's' then
			CONTROL.B = 0
		elseif KEY:lower() == 'a' then
			CONTROL.L = 0
		elseif KEY:lower() == 'd' then
			CONTROL.R = 0
		elseif KEY:lower() == 'e' then
			CONTROL.Q = 0
		elseif KEY:lower() == 'q' then
			CONTROL.E = 0
		end
	end)
	FLY()
end

function NOFLY()
	FLYING = false
	game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand = false
end

function fly()
    NOFLY()
    wait()
    sFLY()
end
end)

btns:Seperator()

btns:Button("Aimlock", function()
DiscordLib:Notification("Notification", "Click E on somebody to lock on, a red dot should appear on themm", "Press to continue!")
Keybind = "e"

    
local UserInputService = game:GetService'UserInputService'
local Cam = game:GetService'Workspace'.CurrentCamera
local Plr
local mouse = game.Players.LocalPlayer:GetMouse()
local guimain = Instance.new("Folder", game.CoreGui)

mouse.KeyDown:connect(function(key)
	if key == Keybind then
		Plr = ClosestPlayerToCursor()
	end
end)
function ClosestPlayerToCursor()
	local closestPlayer
	local shortestDistance = math.huge
	for i, v in pairs(game.Players:GetPlayers()) do
		if v ~= game.Players.LocalPlayer and v.Character and v.Character:FindFirstChild("Humanoid") and v.Character.Humanoid.Health ~= 0 and v.Character:FindFirstChild("Head") then
			local pos = Cam:WorldToViewportPoint(v.Character.PrimaryPart.Position)
			local magnitude = (Vector2.new(pos.X, pos.Y) - Vector2.new(mouse.X, mouse.Y)).magnitude
			if magnitude < shortestDistance then
				closestPlayer = v
				shortestDistance = magnitude
			end
		end
	end
	return closestPlayer
end
local mt = getrawmetatable(game)
local backupindex = mt.__index
setreadonly(mt, false)
mt.__index = newcclosure(function(t, k)
	if t:IsA("Mouse") and (k == "Hit" or k == "Target") then
		local CPlayer = Plr
		if CPlayer and CPlayer.Character and CPlayer.Character:FindFirstChild("HumanoidRootPart") then
			return (k == "Hit" and CPlayer.Character.Head.CFrame + (CPlayer.Character.Head.Velocity * 0.165) or CPlayer.Character.Head)
		end
	end
	return backupindex(t, k)
end)
setreadonly(mt, true)

repeat
	wait()
until Plr
local e = Instance.new("BillboardGui", guimain)
e.Name = "PP"
e.Size = UDim2.new(0.3, 3, 0.3, 3)
e.AlwaysOnTop = true
local a = Instance.new("Frame", e)
a.Size = UDim2.new(1, 0, 1, 0)
a.BackgroundTransparency = 0.4
a.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
local g = Instance.new("UICorner", a)
g.CornerRadius = UDim.new(50, 50)
while true do
	wait()
    pcall (function()
	e.Adornee = Plr.Character:WaitForChild("Head")
    end)
end
end)

btns:Seperator()

btns:Button("ESP", function()
DiscordLib:Notification("Notification", 'Esp Enabled.', "Press to continue!")
                for _,v in pairs(Players:GetChildren()) do
                if v.Character then
                    if not v.Character.UpperTorso:FindFirstChild('ESP') then
                        local ESP = Instance.new('BillboardGui', v.Character.UpperTorso)
                        ESP.StudsOffset = Vector3.new(0,3,0)
                        ESP.Size = UDim2.new(4,0,1,0)
                        ESP.AlwaysOnTop = true
                        ESP.Name = 'ESP'
                        local TextLabel = Instance.new('TextLabel', ESP)
                        TextLabel.Text = (v.Name ..' | ' .. v.DisplayName)
                        TextLabel.BackgroundTransparency = 1
                        TextLabel.Size = UDim2.new(1,0,1,0)
                        TextLabel.TextColor3 = green
                    end
                end
            end       
end)

btns:Seperator()

btns:Button("High tool", function()
        if player.Character:FindFirstChildWhichIsA('Tool') then
        player.Character:FindFirstChildWhichIsA('Tool').Grip = CFrame.new(0, -12, 0, 1, 0, 0, 0, 1, 0, 0, 0, -1)
    else
DiscordLib:Notification("Notification", 'HighTool Error', 'you have to be holding a tool', "Press to continue!")
    end
end)

btns:Seperator()

---------------------------------------------------------------

local ok = serv:Channel("Teleports")

ok:Seperator()

ok:Button("SavePOS", function()
    SavedPos = player.Character.HumanoidRootPart.CFrame
end)

ok:Button("LoadPOS", function()
    if SavedPos ~= nil then
        player.Character.HumanoidRootPart.CFrame = SavedPos
    else
        DiscordLib:Notification("Notification",'Load Position Error.. you need to save a position first', 'Press to continue.')
    end
end)

ok:Seperator()
---------------------------------------------------------------
ok:Button("Safe 1", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(207.48085, 38.25, 200014.953, 0.507315397, 0, -0.861760437, 0, 1, 0, 0.861760437, 0, 0.507315397)
end)

ok:Button("Safe 2", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(-117.270287, -58.7000618, 146.536087, 0.999873519, 5.21876942e-08, -0.0159031227, -5.22713037e-08, 1, -4.84179008e-09, 0.0159031227, 5.67245495e-09, 0.999873519)
end)

---------------------------------------------------------------
ok:Seperator()

---------------------------------------------------------------

ok:Button("Bank", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(-437.125885, 38.9783134, -285.587372, 0.0165725499, 5.298579e-08, -0.99986279, 1.16139711e-08, 1, 5.31855591e-08, 0.99986279, -1.24937944e-08, 0.0165725499)
end)

ok:Button("Bank Roof", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(-437.125885, 38.9783134, -285.587372, 0.0165725499, 5.298579e-08, -0.99986279, 1.16139711e-08, 1, 5.31855591e-08, 0.99986279, -1.24937944e-08, 0.0165725499)
end)


ok:Seperator()
---------------------------------------------------------------
ok:Button("Gas Station", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(591.680725, 49.0000458, -256.818298, -0.0874911696, -3.41755495e-08, -0.996165276, 1.23318324e-08, 1, -3.53901868e-08, 0.996165276, -1.53808717e-08, -0.0874911696)
end)

ok:Button("Gas Station Roof", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(530.375977, 71.9998398, -248.249695, 0, 0, 1, 0, 1, -0, -1, 0, 0)
end)

ok:Seperator()

---------------------------------------------------------------

ok:Button("Furniture", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(-486.943665, 21.9147911, -100.690102, 0.693152666, 9.85556858e-10, -0.720790803, -7.35347605e-09, 1, -5.70418601e-09, 0.720790803, 9.25418941e-09, 0.693152666)
end)

ok:Button("Furniture Roof", function()
    local plr = game.Players.LocalPlayer
	local char = plr.Character
	char.HumanoidRootPart.CFrame = CFrame.new(-490.099976, 38.5998611, -118.199997, 1, 0, 0, 0, 1, 0, 0, 0, 1)
end)

---------------------------------------------------------------

local ta = serv:Channel("Target")

ta:Seperator()

ta:Textbox("Player", "Type here!", true, function(t)
print(t)
end)


---------------------------------------------------------------
local fuck = serv:Channel("Extras")

fuck:Seperator()

fuck:Button("Bikefly", function()
DiscordLib:Notification("Notification", "Get on a bike, click E and Q", "Press to continue!")
local speed = 20
local old
local Plr = game.Players.LocalPlayer
local wheels = {}
local control = {q=false,e=false,w=false,a=false,s=false,d=false}
local Mouse = Plr:GetMouse()

Mouse.KeyDown:connect(function(KEY)
    local key = KEY:lower()
    if control[key] ~= nil then
        control[key]=true
    end
end)

Mouse.KeyUp:connect(function(KEY)
    local key = KEY:lower()
    if control[key] ~= nil then
        control[key]=false
    end
end)

while game.RunService.Stepped:wait() do
    local seat = (Plr.Character or Plr.CharacterAdded:wait()):WaitForChild("Humanoid").SeatPart
    if Plr.PlayerGui:FindFirstChild("MainScreenGui") and Plr.PlayerGui.MainScreenGui:FindFirstChild("Bar") and Plr.PlayerGui.MainScreenGui.Bar:FindFirstChild("Speed") then
        Plr.PlayerGui.MainScreenGui.Bar.Speed.bar.Size = UDim2.new(speed / 100 * 0.95, 0, 0.83, 0)
    else
        local c = Plr.PlayerGui.MainScreenGui.Bar.HP
        local g = c:Clone()
        g.Name = "Speed"
        g.Position = UDim2.new(0.5, 0, 1, -120)
        g.bar.BackgroundColor3 = Color3.fromRGB(255, 155, 0)
        g.Picture.Image.Image = "rbxassetid://181035717"
        g.TextLabel.Text = "Speed"
        g.Parent = c.Parent
    end
    if seat ~= nil and seat:IsDescendantOf(game.Workspace.Vehicles) then
        if seat ~= old then
            if old then
                old.Vel:Destroy()
                old.Gyro:Destroy()
            end
            old = seat
            for i = 1, 2 do
                if wheels[i] then
                    wheels[i][2].Parent = wheels[i][1]
                end
                local wheel = seat.Parent.Wheel
                wheels[i] = {seat.Parent, wheel}
                wheel:remove()
            end
            local gyro = Instance.new("BodyGyro", seat)
            gyro.Name = "Gyro"
            local pos = Instance.new("BodyVelocity", seat)
            pos.Name = "Vel"
            gyro.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            pos.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        else 
            seat.Gyro.cframe = workspace.CurrentCamera.CoordinateFrame
            local vel = CFrame.new(0, 0, 0)
            if control.w then
                vel = vel * CFrame.new(0, 0, -speed)
            end
            if control.s then
                vel = vel * CFrame.new(0, 0, speed)
            end
            if control.a then
                vel = vel * CFrame.new(-speed, 0, 0)
            end
            if control.d then
                vel = vel * CFrame.new(speed, 0, 0)
            end
            seat.Vel.Velocity = (seat.CFrame*vel).p - seat.CFrame.p
        end
    end
    if control.e and speed<100 then
        speed = speed + 1
    end
    if control.q and speed > 0 then
        speed = speed - 1
    end
end
end)


---------------------------------------------------------------
local sec = serv:Channel("Security")

sec:Seperator()

sec:Button("Anti-Ban", function()
DiscordLib:Notification("Notification", "Anti-Ban Enabled.", "Press to continue!")
   local bitch = {
	163721789,
	15427717,
	201454243,
	822999,
	63794379,
	17260230,
	28357488,
	93101606,
	8195210,
	89473551,
	16917269,
	85989579,
	1553950697,
	476537893,
	155627580,
	31163456,
	7200829,
	25717070,
	201454243,
	15427717,
	63794379,
	16138978,
	60660789,
	17260230,
	16138978,
	1161411094,
	9125623,
	11319153,
	34758833,
	194109750,
	35616559,
	1257271138,
	28885841,
	23558830,
	25717070,
}

for l, c in pairs(game.Players:GetChildren()) do
	for i, v in pairs(bitch) do
		if c.UserId == v then
			game.Players.LocalPlayer:Kick("Admin Joined, You Were Kicked So You Wouldnt Get Banned! Saved By Blazed.")
		end
	end
end
game.Players.PlayerAdded:Connect(function(plr)
	for i, v in pairs(bitch) do
		if plr.UserId == v then
			game.Players.LocalPlayer:Kick("Admin Joined, You Were Kicked So You Wouldnt Get Banned! Saved By Blazed.")
		end
	end
end)
end)

sec:Seperator()


sec:Button("Anti-Afk", function()
DiscordLib:Notification("Notification", "Anti-Afk Enabled.", "Press to continue!")
    local vu = game:GetService("VirtualUser") -- AntiAfk
game:GetService("Players").LocalPlayer.Idled:connect(function()
    vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    wait(1)
    vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)
end)


---/// credits Channel

local crdt = serv:Channel("Credits")

crdt:Seperator()

crdt:Bind("Toggle Menu", Enum.KeyCode.RightShift, function()

end)

crdt:Seperator()

crdt:Button("Join discord.gg/CashX", function()
DiscordLib:Notification("Notification", "Copied discord to clipboard.", "Press to continue!")
    setclipboard("https://discord.gg/CashX")
end)

crdt:Seperator()

crdt:Button("! Alex<3#0705", function()
DiscordLib:Notification("Notification", "Omg it's Alex!", "Press to continue!")
end)
